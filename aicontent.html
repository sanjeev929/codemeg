<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Free AI Bio, Username & Caption Generator</title>
  <meta name="description" content="Generate unique Instagram bios, usernames, and captions using AI. Free social media content generator. No login required.">
  <meta name="keywords" content="AI Bio Generator, AI Username Generator, AI Caption Generator">
  <link rel="canonical" href="https://sanjeev929.github.io/bio_gen_frontend/" />

  <!-- Open Graph -->
  <meta property="og:title" content="CodeMeg – Free AI Tools">
  <meta property="og:description" content="Generate bios, captions & usernames using AI">
  <meta property="og:image" content="preview.png">

  <!-- Icons -->
  <link rel="icon" href="image/profile/favicon.ico">
  <link rel="apple-touch-icon" href="image/profile/apple-touch-icon.png">

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="aicontent.css">
</head>

<body>

<!-- HEADER -->
<header class="header">
  <div class="container">
    <div class="logo">Code<span>Meg</span></div>
    <nav>
      <a href="index.html">Home</a>
      <a href="#tools">Tools</a>
      <a href="faq.html">FAQ</a>
      <a href="contact.html">Contact</a>
    </nav>
  </div>
</header>

<!-- HERO -->
<section class="hero">
  <h1>Free AI Bio, Username & Caption Generator</h1>
  <p>Create clean, professional social media content using AI.</p>
  <p id="remaining-count" class="remaining-count"></p>
</section>

<!-- MAIN -->
<main class="main">

  <section class="generator">
    <div class="custom-dropdown" id="dropdown">
      <div class="dropdown-selected" id="dropdownSelected">Bio Generator</div>
      <div class="dropdown-options" id="dropdownOptions">
        <div data-value="bio">Bio Generator</div>
        <div data-value="caption">Caption Generator</div>
        <div data-value="username">Username Generator</div>
      </div>
    </div>

    <textarea id="prompt" placeholder="Type something..."></textarea>
    <button id="generate-btn">Generate</button>

    <div id="result-section" style="display:none;">
      <h2>Result</h2>
      <div id="result"></div>
      <button id="save-btn">Save</button>
      <button id="copy-btn">Copy</button>
    </div>
  </section>

  <section class="saved">
    <h2>Saved Items</h2>
    <ul id="saved-list"></ul>
    <button id="clear-saved">Clear All</button>
  </section>

</main>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-inner">
    <div>© 2026 CodeMeg</div>
    <div class="footer-center">
      <a href="https://www.youtube.com/@codemeg"><i class="fab fa-youtube"></i></a>
      <a href="https://www.instagram.com/codemeg.tech/"><i class="fab fa-instagram"></i></a>
      <a href="#"><i class="fab fa-x-twitter"></i></a>
    </div>
    <div class="footer-right">
      <a href="privacy.html">Privacy Policy</a>
      <a href="terms.html">Terms & Conditions</a>
    </div>
  </div>
</footer>

<script>
/* ================= LIMIT ================= */
const DAILY_LIMIT = 6;

function getToday() {
  return new Date().toISOString().split("T")[0];
}

function getRequestCount() {
  const data = JSON.parse(localStorage.getItem("limit_data"));
  if (!data || data.date !== getToday()) {
    localStorage.setItem("limit_data", JSON.stringify({ date: getToday(), count: 0 }));
    return 0;
  }
  return data.count;
}

function incrementRequestCount() {
  const data = JSON.parse(localStorage.getItem("limit_data")) || {};
  data.date = getToday();
  data.count = (data.count || 0) + 1;
  localStorage.setItem("limit_data", JSON.stringify(data));
}

function updateRemaining() {
  document.getElementById("remaining-count").textContent =
    `Requests Left Today: ${DAILY_LIMIT - getRequestCount()}`;
}

document.addEventListener("DOMContentLoaded", () => {
  updateRemaining();
  loadSaved();
});

/* ================= DROPDOWN ================= */
const dropdownSelected = document.getElementById("dropdownSelected");
const dropdownOptions = document.getElementById("dropdownOptions");
let selectedTool = "bio";

dropdownSelected.onclick = () => {
  dropdownOptions.classList.toggle("show");
};

dropdownOptions.querySelectorAll("div").forEach(opt => {
  opt.onclick = () => {
    selectedTool = opt.dataset.value;
    dropdownSelected.textContent = opt.textContent;
    dropdownOptions.classList.remove("show");
  };
});

document.addEventListener("click", e => {
  if (!document.getElementById("dropdown").contains(e.target)) {
    dropdownOptions.classList.remove("show");
  }
});

/* ================= GENERATE ================= */
document.getElementById("generate-btn").onclick = async () => {
  const prompt = document.getElementById("prompt").value.trim();
  if (!prompt) return alert("Enter prompt");

  if (getRequestCount() >= DAILY_LIMIT) {
    alert("Daily limit reached");
    return;
  }

  try {
    const res = await fetch(`https://bio-gen.onrender.com/${selectedTool}`, {
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body:JSON.stringify({ prompt })
    });

    const data = await res.json();
    document.getElementById("result").textContent = data.result || "No result";
    document.getElementById("result-section").style.display = "block";

    incrementRequestCount();
    updateRemaining();
  } catch (err) {
    alert("Server error. Try again later.");
  }
};

/* ================= COPY ================= */
document.getElementById("copy-btn").onclick = () => {
  navigator.clipboard.writeText(document.getElementById("result").textContent);
  alert("Copied!");
};

/* ================= SAVE ================= */
document.getElementById("save-btn").onclick = () => {
  const text = document.getElementById("result").textContent;
  if (!text) return;

  const saved = JSON.parse(localStorage.getItem("saved_items")) || [];
  saved.push(text);
  localStorage.setItem("saved_items", JSON.stringify(saved));
  loadSaved();
};

/* ================= LOAD SAVED ================= */
function loadSaved() {
  const list = document.getElementById("saved-list");
  list.innerHTML = "";

  const saved = JSON.parse(localStorage.getItem("saved_items")) || [];
  saved.forEach(item => {
    const li = document.createElement("li");
    li.textContent = item;
    list.appendChild(li);
  });
}

/* ================= CLEAR SAVED ================= */
document.getElementById("clear-saved").onclick = () => {
  localStorage.removeItem("saved_items");
  loadSaved();
};
</script>

</body>
</html>
